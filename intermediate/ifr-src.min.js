/*

 jQuery eSlidenav Plugin
 Copyright (C) 2011 by Abhishek Dev
 MIT License @ http://bit.ly/abhishekdevMIT-License
*/
(function(a,d){a.fn.eSlidenav=function(c){typeof c!="string"&&(c=a.extend({overlap:20,speed:500,resetin:1500,bgcolor:"#CCCCCC",easing:"easeOutExpo",moveaxis:"y",onHover:{enter:a.noop,out:a.noop},onClick:a.noop,autoresizeSelector:!1},c));return this.each(function(){function f(){k=l?{width:b.outerWidth()+c.overlap,height:b.outerHeight(),left:b.position().left-c.overlap/2,top:b.position().top}:{width:b.outerWidth(),height:b.outerHeight()+c.overlap,left:b.position().left,top:b.position().top-c.overlap/
2};a.extend(k,{backgroundColor:c.bgcolor});j.css(k)}function i(b){var h=l?{top:b.position().top,height:b.outerHeight()}:{left:b.position().left,width:b.outerWidth()};j.animate(h,{duration:c.speed,easing:c.easing,queue:!1,complete:function(){a.isFunction(c.onHover.enter)&&c.onHover.enter.call(d,b.get(0))}})}function g(h){var e=l?{height:b.outerHeight(),top:b.position().top}:{width:b.outerWidth(),left:b.position().left};j.animate(e,{duration:c.speed,complete:function(){a.isFunction(c.onHover.out)&&
c.onHover.out.call(d,h.get(0))}})}function e(a){a.addClass("selected").siblings().removeClass("selected");b=a}var h=a(this),b=h.children(".selected"),j=a('<li class="selector"/>'),n=null,m=null,l=c.moveaxis==="y"?!0:!1,k;f();j.appendTo(this);h.delegate("li:not(.selector)",{"mouseenter.sliderNav":function(){clearTimeout(n);clearTimeout(m);var b=a(this);m=setTimeout(function(){i(b)},200)},"mouseleave.sliderNav":function(){clearTimeout(m);var b=a(this);!c.resetin&&typeof c.resetin!=="number"?e(b):n=
setTimeout(function(){g(b)},c.resetin)}});h.delegate("li","click.slideNav",function(){var b=a(this);b.hasClass("selected")||(e(b),a.isFunction(c.onClick)&&c.onClick.call(d,this))});c.autoresizeSelector&&a(window).bind("resize.eSlidenav",f)})}})(jQuery,window);/*

 iFrontRow- v1.0.0
 Copyright (C) 2012 by Abhishek Dev
 MIT License @ http://bit.ly/abhishekdevMIT-License
*/
var ifr={about:{author:"Abhishek Dev",version:"1.0.0",credits:"GUI shamelessly adapted from the original Apple (c) FrontRow\niFrontRow name suggestion by Anshul Gupta (anshul10s)\n"},debug:0,db:{trailers:null,url:{"1080p":"","720p":"","480p":""}}};
ifr.db.proc={importTrailers:function(a){var d=window.localStorage;try{if(a.query.results.records.movieinfo)d&&(d.setItem("ifr-lastcheck",new Date),d.setItem("ifr-offlineDB",JSON.stringify(a))),ifr.db.trailers=a.query.results.records.movieinfo}catch(c){ifr.db.trailers=null}}};
ifr.buildTrailerUI=function(a){var d,c;function f(){var a=$("#movieInfo"),b=a.find(".poster"),a=a.find(".details");b.height(a.position().top-parseInt(a.css("bottom"),10))}function i(){var a=$(this),b;this.error&&this.error.code>=3&&this.error.code<=4&&(b=$("<embed/>",{volume:"100",autostart:"true",airplay:"allow",width:d,height:c,src:a.attr("src")}),a.replaceWith(b),e=b)}var g=[];d=854;c=480;var e;a&&ifr.db.proc.importTrailers(a);ifr.db.trailers.length&&($("#ifr_aboutBtn, #ifr-about .close").bind("click.toggleAbout",
function(){$("#ifr-about").toggleClass("show")}),$.each(ifr.db.trailers,function(a,b){g.push('<li><a class="trailerLink" href="#movTrailer" id="'+a+'">'+b.info.title+"</a></li>")}),$("#ifr-toggleConfig").bind("click.toggleConfig",function(){$("#ifr > .config").toggleClass("visible");$("#ifr > .trailers").toggleClass("disabled");setTimeout(f,200)}),$("<ul/>",{"class":"sliderNav",html:g.join("")}).appendTo(".movieList").find("li:first").addClass("selected").end().eSlidenav({bgcolor:"#000",overlap:0,
resetin:null,autoresizeSelector:!0,onHover:{enter:function(a){ifr.loadMovieInfo($(a).children("a")[0].id)}}}),$(".sliderNav > li:first > a").trigger("mouseenter").focus(),function(){$("#ifr-templates");var a=$("<video/>",{"class":"video",type:"video/mp4","x-webkit-airplay":"allow",autoplay:"autoplay",controls:"controls",width:d,height:c}),b=$("<embed/>",{volume:"100",autostart:"true",airplay:"allow",width:d,height:c});a.bind("error",i);e=Modernizr.video&&Modernizr.video.h264==="probably"?a:b;e.attr("id",
"movTrailer")}(),$(window).bind("resize.ifr",f),f(),$("a.trailerLink").bind("click.ifr",function(a){a.preventDefault();var a=ifr.db.trailers[$(this).attr("id")],b=a.preview.large.content.replace(/_h[0-9]{3}/,"_480");$("<a/>",{"class":"media",href:b});e.is("video")&&e.attr("poster",a.poster.xlarge);e.detach().attr("src",b).appendTo("#ifr-templates")}).fancybox({padding:0,margin:0,openEffect:"elastic",closeEffect:"elastic",openEasing:"easeInExpo",closeEasing:"easeOutExpo",openSpeed:600,closeSpeed:200,
overlayShow:!0}),$("#movieInfo .posterCache").bind("error",function(){$(this).attr("src","cp.gif")}))};
ifr.loadMovieInfo=function(a){$("#movieInfo");a=ifr.db.trailers[a];$("#movieInfo .poster").attr("src",a.poster.xlarge);$("#movieInfo > .details > h3").text(a.info.title);$("#movieInfo > .details > #rating").removeAttr("class").addClass(a.info.rating.toLowerCase());$("#movieInfo > .details > .summary").text(a.info.description);$("#movieInfo > .details > cite").text(a.info.copyright);$("#movieInfo .director").text(a.info.director);$("#movieInfo .genre").text(a.genre.name.toString());$("#movieInfo .releasedate").text(a.info.releasedate);
$("#movieInfo .cast").text(a.cast?a.cast.name.toString():"unlisted")};
ifr.getTrailerList=function(a,d){var c,f;function i(){var a,b;if(c)if(a=new Date,b=new Date(c),a-b<864E5){f=e.getItem("ifr-offlineDB");try{f=JSON.parse(f),ifr.db.proc.importTrailers(f),ifr.buildTrailerUI()}catch(d){g()}}else g();else g()}function g(){$.getJSON("http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20xml%20where%20url=%22trailers.apple.com/trailers/home/xml/current_480p.xml%22&format=json&callback=?",ifr.buildTrailerUI)}var e=window.localStorage;c=void 0;f=void 0;!d&&e?(c=e.getItem("ifr-lastcheck"),
i()):g()};ifr.init={page:function(){ifr.debug&&window.offlineTestDB?ifr.buildTrailerUI(offlineTestDB):ifr.getTrailerList()}};